{"version":3,"sources":["webpack:///webpack/bootstrap ac7eb5040955730bd4b9","webpack:///./src/app.js","webpack:///./src/background.js"],"names":["console","log","API_CLIENT_ID","ONLINE_CONTENT","message","src","OFFLINE_CONTENT","STREAM_NAME","API_ENDPOINT","REQUEST_INTERVAL","updateUI","isOnline","content","chrome","browserAction","setIcon","path","document","querySelectorAll","length","querySelector","innerHTML","getStreamStatus","headers","Headers","append","fetch","then","res","json","main","data","setTimeout"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;ACtCAA,SAAQC,GAAR,CAAY,OAAZ,E;;;;;;;;ACAA,KAAMC,gBAAgB,gCAAtB;;AAEA,KAAMC,iBAAiB;AACrBC,YAAS,yBADY;AAErBC,QAAK;AAFgB,EAAvB;;AAKA,KAAMC,kBAAkB;AACtBF,YAAS,qBADa;AAEtBC,QAAK;AAFiB,EAAxB;;AAKA,KAAME,cAAc,SAApB,C,CAA8B;;AAE9B,KAAMC,mEAAiED,WAAvE;;AAEA,KAAME,mBAAmB,SAAzB;;AAEA,UAASC,QAAT,GAAoC;AAAA,OAAlBC,QAAkB,uEAAP,KAAO;;AAClCX,WAAQC,GAAR,CAAY,IAAZ;AACA,OAAMW,UAAUD,WAAWR,cAAX,GAA4BG,eAA5C;AACAO,UAAOC,aAAP,CAAqBC,OAArB,CAA6B,EAAEC,MAAMJ,QAAQP,GAAhB,EAA7B;;AAEA,OAAIY,SAASC,gBAAT,CAA0B,SAA1B,EAAqCC,MAArC,GAA8C,CAAlD,EAAqD;AACnDnB,aAAQC,GAAR,CAAY,UAAZ;AACAgB,cAASG,aAAT,CAAuB,SAAvB,EAAkCC,SAAlC,qCACyBT,QAAQR,OADjC,gCAEcQ,QAAQP,GAFtB;AAID;AACF;;AAED,UAASiB,eAAT,GAA2B;AACzB,OAAMC,UAAU,IAAIC,OAAJ,EAAhB;AACAD,WAAQE,MAAR,CAAe,WAAf,EAA4BvB,aAA5B;;AAEA,UAAOwB,MAAMlB,YAAN,EAAoB,EAAEe,gBAAF,EAApB,EAAiCI,IAAjC,CAAsC;AAAA,YAAOC,IAAIC,IAAJ,EAAP;AAAA,IAAtC,CAAP;AACD;;AAGD,UAASC,IAAT,GAAgB;AACdR,qBAAkBK,IAAlB,CAAuB,gBAAc;AAAA,SAAXI,IAAW,QAAXA,IAAW;;AACnCC,gBAAWF,IAAX,EAAiBrB,gBAAjB;AACAC,cAASqB,KAAKZ,MAAL,GAAc,CAAvB;AACAnB,aAAQC,GAAR,CAAY8B,KAAKZ,MAAL,GAAc,QAAd,GAAyB,QAArC;AACD,IAJD;AAKD;;AAGDW,Q","file":"build/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ac7eb5040955730bd4b9","console.log('HEY 2')\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","const API_CLIENT_ID = \"047hyh2gfli6kv04oeuz4idpx4bzir\";\r\n\r\nconst ONLINE_CONTENT = {\r\n  message: 'BinoLeDino est en ligne',\r\n  src: 'icons/112x112/BinoWave.png',\r\n}\r\n\r\nconst OFFLINE_CONTENT = {\r\n  message: 'Le live est fini :(',\r\n  src: 'icons/112x112/BinoCry.png',\r\n}\r\n\r\nconst STREAM_NAME = 'zerator' //'binoledino'\r\n\r\nconst API_ENDPOINT = `https://api.twitch.tv/helix/streams?user_login=${STREAM_NAME}`\r\n\r\nconst REQUEST_INTERVAL = 100000000\r\n\r\nfunction updateUI(isOnline = false) {\r\n  console.log('OH')\r\n  const content = isOnline ? ONLINE_CONTENT : OFFLINE_CONTENT\r\n  chrome.browserAction.setIcon({ path: content.src })\r\n\r\n  if (document.querySelectorAll('section').length > 0) {\r\n    console.log('I UPDATE')\r\n    document.querySelector('section').innerHTML = `\r\n      <div class=\"message\">${content.message}</div>\r\n      <img src=\"${content.src}\" />\r\n    `;\r\n  }\r\n}\r\n\r\nfunction getStreamStatus() {\r\n  const headers = new Headers();\r\n  headers.append('Client-ID', API_CLIENT_ID);\r\n\r\n  return fetch(API_ENDPOINT, { headers }).then(res => res.json())\r\n}\r\n\r\n\r\nfunction main() {\r\n  getStreamStatus().then(({ data }) => {\r\n    setTimeout(main, REQUEST_INTERVAL)\r\n    updateUI(data.length > 0)\r\n    console.log(data.length ? 'ONLINE' : 'ONLINE')\r\n  })\r\n}\r\n\r\n\r\nmain()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/background.js"],"sourceRoot":""}